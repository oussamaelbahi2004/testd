<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø®ØªØ¨Ø± Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ© - ENS</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@500;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb; /* bg-blue-600 */
            --secondary: #3b82f6; /* bg-blue-500 */
            --accent: #ffc93c;
            --success: #44bd32;
            --error: #c23616;
            --bg: #f5f6fa;
            --card: #ffffff;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--secondary);
            padding: 20px;
        }

        .container {
            background: var(--card);
            width: 100%;
            max-width: 700px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            min-height: 650px;
            display: flex;
            flex-direction: column;
            border-top: 5px solid var(--primary);
        }

        .back-button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Tajawal', sans-serif;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
        }

        .back-button:hover {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            transform: translateX(-3px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
        }

        /* Header */
        .header {
            background: #fff;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            font-size: 1.1rem;
            border-bottom: 1px solid #eee;
        }

        .badge {
            background: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
        }

        /* Progress */
        .progress-bar {
            height: 6px;
            background: #eee;
            width: 100%;
        }
        .progress-fill {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Screens */
        .screen {
            flex: 1;
            padding: 30px;
            text-align: center;
            display: none;
            flex-direction: column;
            justify-content: center;
            animation: fadeIn 0.4s ease;
        }
        
        .screen.active { display: flex; }

        h1 { margin: 0 0 10px 0; color: var(--primary); font-size: 2rem; }

        /* Concept Card */
        .def-card {
            background: #f1f9fe;
            border: 2px dashed var(--primary);
            padding: 25px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 25px;
            position: relative;
        }

        .def-text {
            font-size: 1.3rem;
            font-weight: 800;
            line-height: 1.6;
            color: #2c3e50;
        }

        .step-label {
            display: inline-block;
            background: var(--secondary);
            color: white;
            padding: 8px 25px;
            border-radius: 50px;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 1rem;
        }

        /* Grid */
        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
        }

        .option-btn {
            background: white;
            border: 2px solid #dcdde1;
            padding: 16px;
            border-radius: 12px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Tajawal', sans-serif;
            color: var(--secondary);
            font-weight: 600;
        }

        .option-btn:hover:not([disabled]) {
            border-color: var(--primary);
            background: #eef7ff;
            transform: translateX(5px);
        }

        .option-btn.correct {
            background: #d5f5e3;
            border-color: var(--success);
            color: var(--success);
        }

        .option-btn.wrong {
            background: #fadbd8;
            border-color: var(--error);
            color: var(--error);
        }

        /* Controls */
        .next-btn {
            margin-top: 25px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 50px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            display: none;
            align-self: center;
        }
        .next-btn:hover { background: #159895; }

        .start-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 15px 50px;
            border-radius: 50px;
            font-size: 1.4rem;
            cursor: pointer;
            font-weight: bold;
            margin-top: 30px;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
            transition: all 0.3s;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4);
        }

        .feedback {
            margin-top: 15px;
            font-weight: bold;
            min-height: 25px;
            font-size: 1.1rem;
        }

        .final-score {
            font-size: 4rem;
            color: var(--primary);
            font-weight: 800;
            margin: 20px 0;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <button class="back-button" onclick="window.location.href='SEMAFAHIMCOURE.html'">
            â† Ø±Ø¬ÙˆØ¹
        </button>
        <div id="section-title">Ù…Ø®ØªØ¨Ø± Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ…</div>
        <div class="badge">Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span></div>
    </div>
    <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>

    <div class="screen active" id="screen-intro">
        <h1>Ù…Ø®ØªØ¨Ø± Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… ğŸ”¬</h1>
        <p style="font-size:1.1rem; color:#555;">Ù‡Ù„ ØªØ¶Ø¨Ø· Ù…ÙØ§Ù‡ÙŠÙ…Ùƒ Ø¬ÙŠØ¯Ø§Ù‹ØŸ (Ø¨ÙŠØ¯Ø§ØºÙˆØ¬ÙŠØ§ØŒ Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒØŒ ØªØ¹Ø§Ù‚Ø¯...)</p>
        <div style="background:#fff; padding:20px; border-radius:15px; margin:20px 0; border:1px solid #eee; text-align:right;">
            <p>1ï¸âƒ£ <strong>Ø§Ù„ØªØ´Ø®ÙŠØµ:</strong> Ø³Ø£Ø¹Ø·ÙŠÙƒ Ø§Ù„ØªØ¹Ø±ÙŠÙØŒ ÙˆØ¹Ù„ÙŠÙƒ ØªØ­Ø¯ÙŠØ¯ "Ø§Ù„Ù…ÙÙ‡ÙˆÙ…".</p>
            <p>2ï¸âƒ£ <strong>Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚:</strong> Ø³Ø£Ø·Ø±Ø­ Ø¹Ù„ÙŠÙƒ Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¯Ù‚ÙŠÙ‚Ø§Ù‹ Ø­ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙÙ‡ÙˆÙ….</p>
            <p>3ï¸âƒ£ <strong>QCM:</strong> ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©ØŒ 30 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø´Ø§Ù…Ù„Ø§Ù‹.</p>
        </div>
        <button class="start-btn" onclick="startGame()">Ø§Ø¯Ø®Ù„ Ø§Ù„Ù…Ø®ØªØ¨Ø±</button>
    </div>

    <div class="screen" id="screen-game">
        <div class="def-card">
            <div style="font-size:0.9rem; color:#aaa; margin-bottom:5px;">Ø§Ù„ØªØ¹Ø±ÙŠÙ / Ø§Ù„ÙˆØµÙ</div>
            <div class="def-text" id="g-def">...</div>
        </div>

        <div class="step-label" id="g-step-label">...</div>
        
        <div class="options-grid" id="g-options"></div>
        <div class="feedback" id="g-feedback"></div>
        <button class="next-btn" id="g-next-btn" onclick="nextGameStep()">ØªØ§Ø¨Ø¹</button>
    </div>

    <div class="screen" id="screen-qcm">
        <div class="step-label" style="background:var(--secondary); color:white; border:none;" id="qcm-counter">Ø³Ø¤Ø§Ù„ 1</div>
        <h2 id="qcm-text" style="line-height:1.5; margin-bottom:20px;">...</h2>
        <div class="options-grid" id="qcm-options"></div>
        <div class="feedback" id="qcm-feedback"></div>
        <button class="next-btn" id="qcm-next-btn" onclick="nextQCMStep()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
    </div>

    <div class="screen" id="screen-result">
        <h1>Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø®ØªØ¨Ø±</h1>
        <div class="final-score" id="final-score">0</div>
        <p id="final-msg" style="font-size:1.3rem;">...</p>
        <button class="start-btn" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
    </div>
</div>
<script>
    /* ================= DATA: Concepts & Detail Questions ================= */
    const conceptsData = [
        {
            concept: "Ø§Ù„Ø¨ÙŠØ¯Ø§ØºÙˆØ¬ÙŠØ§ (PÃ©dagogie)",
            definition: "Ø­Ù‚Ù„ Ù…Ø¹Ø±ÙÙŠ ÙŠÙ‡ØªÙ… Ø¨Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ© Ø¯Ø§Ø®Ù„ Ø§Ù„ÙØµÙ„ØŒ ÙˆÙŠØ±ÙƒØ² Ø¹Ù„Ù‰ ÙƒÙŠÙÙŠØ© ØªØ¯Ø¨ÙŠØ± Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª ÙˆØ§Ù„ØªÙØ§Ø¹Ù„Ø§Øª Ø§Ù„ØµÙÙŠØ©.",
            detailQ: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø£ØµÙ„ Ø§Ù„Ø§Ø´ØªÙ‚Ø§Ù‚ÙŠ Ø§Ù„ÙŠÙˆÙ†Ø§Ù†ÙŠ Ù„ÙƒÙ„Ù…Ø© Ø¨ÙŠØ¯Ø§ØºÙˆØ¬ÙŠØ§ØŸ",
            detailOpts: ["Peda (Ø·ÙÙ„) + Agoge (Ù‚ÙŠØ§Ø¯Ø©)", "Peda (Ø¹Ù„Ù…) + Gogy (Ù†ÙØ³)", "Didas (ØªØ¹Ù„ÙŠÙ…) + Kein (ÙÙ†)"],
            detailAns: "Peda (Ø·ÙÙ„) + Agoge (Ù‚ÙŠØ§Ø¯Ø©)"
        },
        {
            concept: "Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒ (Didactique)",
            definition: "Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ù„Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ·Ø±Ù‚ Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù…Ø§Ø¯Ø© Ù…Ø¹ÙŠÙ†Ø©.",
            detailQ: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø°ÙŠ ÙŠØ±ÙƒØ² Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒ ÙÙŠ Ø§Ù„Ù…Ø«Ù„Ø« Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠØŸ",
            detailOpts: ["Ù‚Ø·Ø¨ Ø§Ù„Ù…Ø¯Ø±Ø³-Ø§Ù„Ù…ØªØ¹Ù„Ù… (Ø§Ù„Ø¹Ù„Ø§Ù‚Ø©)", "Ù‚Ø·Ø¨ Ø§Ù„Ù…Ø¹Ø±ÙØ© (Ø§Ù„Ø¥Ø¨Ø³ØªÙ…ÙˆÙ„ÙˆØ¬ÙŠ)", "Ù‚Ø·Ø¨ Ø§Ù„Ù…Ø¤Ø³Ø³Ø©-Ø§Ù„Ø£Ø³Ø±Ø©"],
            detailAns: "Ù‚Ø·Ø¨ Ø§Ù„Ù…Ø¹Ø±ÙØ© (Ø§Ù„Ø¥Ø¨Ø³ØªÙ…ÙˆÙ„ÙˆØ¬ÙŠ)"
        },
        {
            concept: "Ø§Ù„ØªØ±Ø¨ÙŠØ© (Education)",
            definition: "Ø³ÙŠØ±ÙˆØ±Ø© ØªÙ†Ù…ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„ÙØ±Ø¯ Ù„Ø¥Ø¯Ù…Ø§Ø¬Ù‡ ÙÙŠ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ ÙˆØªØ·ÙˆÙŠØ± Ù‚Ø¯Ø±Ø§ØªÙ‡.",
            detailQ: "ÙƒÙŠÙ Ø¹Ø±Ù‘Ù Ø¥Ù…ÙŠÙ„ Ø¯ÙˆØ±ÙƒØ§ÙŠÙ… Ø§Ù„ØªØ±Ø¨ÙŠØ©ØŸ",
            detailOpts: ["Ø¥Ø¹Ø¯Ø§Ø¯ Ù„Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©", "ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø£ÙØ±Ø§Ø¯ ØªÙƒÙˆÙŠÙ†Ø§Ù‹ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ§Ù‹ (ØªÙ†Ø´Ø¦Ø©)", "Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØ§Ø³ØªØ¸Ù‡Ø§Ø±Ù‡Ø§"],
            detailAns: "ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø£ÙØ±Ø§Ø¯ ØªÙƒÙˆÙŠÙ†Ø§Ù‹ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ§Ù‹ (ØªÙ†Ø´Ø¦Ø©)"
        },
        {
            concept: "Ø§Ù„Ù…Ø«Ù„Ø« Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠ",
            definition: "Ù†Ù…ÙˆØ°Ø¬ ØªÙˆØ¶ÙŠØ­ÙŠ ÙŠØ­Ø¯Ø¯ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„ØªÙŠ ØªØ­ÙƒÙ… Ø§Ù„ÙˆØ¶Ø¹ÙŠØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„ØªØ¹Ù„Ù…ÙŠØ©.",
            detailQ: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø£Ù‚Ø·Ø§Ø¨ Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ø§Ù„Ù…ÙƒÙˆÙ†Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø«Ù„Ø«ØŸ",
            detailOpts: ["Ø§Ù„Ù…Ø¯ÙŠØ±ØŒ Ø§Ù„Ù…Ø¯Ø±Ø³ØŒ Ø§Ù„ÙˆÙ„ÙŠ", "Ø§Ù„Ù…Ø¯Ø±Ø³ØŒ Ø§Ù„Ù…ØªØ¹Ù„Ù…ØŒ Ø§Ù„Ù…Ø¹Ø±ÙØ©", "Ø§Ù„Ù‡Ø¯ÙØŒ Ø§Ù„ÙˆØ³ÙŠÙ„Ø©ØŒ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…"],
            detailAns: "Ø§Ù„Ù…Ø¯Ø±Ø³ØŒ Ø§Ù„Ù…ØªØ¹Ù„Ù…ØŒ Ø§Ù„Ù…Ø¹Ø±ÙØ©"
        },
        {
            concept: "Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠ",
            definition: "Ø¹Ù…Ù„ÙŠØ© ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø¹Ø§Ù„Ù…Ø© (Savant) Ø¥Ù„Ù‰ Ù…Ø¹Ø±ÙØ© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¯Ø±ÙŠØ³ (EnseignÃ©).",
            detailQ: "Ù…Ù† Ù‡Ùˆ ØµØ§Ø­Ø¨ Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠØŸ",
            detailOpts: ["Ø¥ÙŠÙ Ø´ÙˆÙØ§Ù„Ø§Ø±", "Ø¬Ø§Ù† Ø¨ÙŠØ§Ø¬ÙŠ", "Ø¬ÙˆÙ† Ø¯ÙŠÙˆÙŠ"],
            detailAns: "Ø¥ÙŠÙ Ø´ÙˆÙØ§Ù„Ø§Ø±"
        },
        {
            concept: "Ø§Ù„ØªØ¹Ø§Ù‚Ø¯ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠ",
            definition: "Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¶Ù…Ù†ÙŠØ© ÙˆØ§Ù„ØµØ±ÙŠØ­Ø© Ø§Ù„ØªÙŠ ØªØ­Ø¯Ø¯ Ø§Ù„ØªØ²Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ ÙˆØ§Ù„Ù…ØªØ¹Ù„Ù… ØªØ¬Ø§Ù‡ Ø§Ù„Ù…Ø¹Ø±ÙØ©.",
            detailQ: "Ø£ÙŠÙ† ÙŠÙ‚Ø¹ Ø§Ù„ØªØ¹Ø§Ù‚Ø¯ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠ ÙÙŠ Ø§Ù„Ù…Ø«Ù„Ø«ØŸ",
            detailOpts: ["Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¯Ø±Ø³ ÙˆØ§Ù„Ù…ØªØ¹Ù„Ù…", "Ø¨ÙŠÙ† Ø§Ù„Ù…ØªØ¹Ù„Ù… ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ©", "Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¯Ø±Ø³ ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ©"],
            detailAns: "Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¯Ø±Ø³ ÙˆØ§Ù„Ù…ØªØ¹Ù„Ù…"
        },
        {
            concept: "Ø§Ù„ØªÙ…Ø«Ù„ (ReprÃ©sentation)",
            definition: "Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„ØªÙŠ ÙŠÙ…ØªÙ„ÙƒÙ‡Ø§ Ø§Ù„Ù…ØªØ¹Ù„Ù… Ø­ÙˆÙ„ Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø¹ÙŠÙ† (Ù‚Ø¯ ØªÙƒÙˆÙ† Ø®Ø§Ø·Ø¦Ø©).",
            detailQ: "Ù…Ø§ Ù‡ÙŠ Ø¹Ù„Ø§Ù‚Ø© Ø§Ù„ØªÙ…Ø«Ù„ Ø¨Ø§Ù„Ù…Ø«Ù„Ø« Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠØŸ",
            detailOpts: ["Ù‡ÙŠ Ø¹Ù„Ø§Ù‚Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ Ø¨Ø§Ù„Ù…Ø¯ÙŠØ±", "ØªÙ‚Ø¹ ÙÙŠ Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø³ÙŠÙƒÙˆÙ„ÙˆØ¬ÙŠ (Ø§Ù„Ù…ØªØ¹Ù„Ù…-Ø§Ù„Ù…Ø¹Ø±ÙØ©)", "Ù„Ø§ Ø¹Ù„Ø§Ù‚Ø© Ù„Ù‡Ø§"],
            detailAns: "ØªÙ‚Ø¹ ÙÙŠ Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø³ÙŠÙƒÙˆÙ„ÙˆØ¬ÙŠ (Ø§Ù„Ù…ØªØ¹Ù„Ù…-Ø§Ù„Ù…Ø¹Ø±ÙØ©)"
        },
        {
            concept: "Ø¹Ù„ÙˆÙ… Ø§Ù„ØªØ±Ø¨ÙŠØ©",
            definition: "Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„ØªÙŠ ØªØ¯Ø±Ø³ Ø§Ù„Ø¸Ø§Ù‡Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ© Ù…Ù† Ø²ÙˆØ§ÙŠØ§ Ù…ØªØ¹Ø¯Ø¯Ø© (Ù†ÙØ³ÙŠØ©ØŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©ØŒ ØªØ§Ø±ÙŠØ®ÙŠØ©...).",
            detailQ: "Ù„Ù…Ø§Ø°Ø§ Ù†Ù‚ÙˆÙ„ 'Ø¹Ù„ÙˆÙ…' Ø¨ØµÙŠØºØ© Ø§Ù„Ø¬Ù…Ø¹ØŸ",
            detailOpts: ["Ù„Ø£Ù†Ù‡Ø§ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø¹Ù„Ù… ÙˆØ§Ø­Ø¯", "Ù„Ø£Ù† Ø§Ù„Ø¸Ø§Ù‡Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ© Ù…Ø¹Ù‚Ø¯Ø© ÙˆØªØªØ·Ù„Ø¨ ØªØ¯Ø§Ø®Ù„ ØªØ®ØµØµØ§Øª", "Ù„Ø£Ù†Ù‡Ø§ Ù…Ø¬Ø±Ø¯ Ø¢Ø±Ø§Ø¡ ÙÙ„Ø§Ø³ÙØ©"],
            detailAns: "Ù„Ø£Ù† Ø§Ù„Ø¸Ø§Ù‡Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ© Ù…Ø¹Ù‚Ø¯Ø© ÙˆØªØªØ·Ù„Ø¨ ØªØ¯Ø§Ø®Ù„ ØªØ®ØµØµØ§Øª"
        }
    ];

    /* ================= DATA: QCM ================= */
    const qcmData = [
        { q: "Ø§Ù„Ù…ØµØ·Ù„Ø­ Ø§Ù„Ø°ÙŠ ÙŠØ¹Ù†ÙŠ 'Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ø·ÙÙ„' ÙÙŠ Ø£ØµÙ„Ù‡ Ø§Ù„ÙŠÙˆÙ†Ø§Ù†ÙŠ Ù‡Ùˆ:", o: ["Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒ", "Ø§Ù„Ø¨ÙŠØ¯Ø§ØºÙˆØ¬ÙŠØ§", "Ø§Ù„Ø¥Ø¨Ø³ØªÙ…ÙˆÙ„ÙˆØ¬ÙŠØ§", "Ø§Ù„Ù…ÙŠØ«ÙˆØ¯ÙˆÙ„ÙˆØ¬ÙŠØ§"], a: 1 },
        { q: "Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒ Ø§Ù„Ø¹Ø§Ù… ÙˆØ§Ù„Ø®Ø§Øµ ÙŠÙƒÙ…Ù† ÙÙŠ:", o: ["Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¹Ù…Ø±ÙŠØ©", "Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒ Ø§Ù„Ø®Ø§Øµ Ø¨Ù…Ø§Ø¯Ø© Ø¯Ø±Ø§Ø³ÙŠØ© Ù…Ø­Ø¯Ø¯Ø©", "Ø¬Ù†Ø³ Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†", "Ø­Ø¬Ù… Ø§Ù„Ù‚Ø³Ù…"], a: 1 },
        { q: "Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙŠ ÙŠØªÙ… ÙÙŠÙ‡Ø§ ØªØ­ÙˆÙŠÙ„ 'Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø¹Ø§Ù„Ù…Ø©' Ø¥Ù„Ù‰ 'Ù…Ø¹Ø±ÙØ© Ù…Ø¯Ø±Ø³Ø©' ØªØ³Ù…Ù‰:", o: ["Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠ", "Ø§Ù„ØªØ¹Ø§Ù‚Ø¯ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠ", "Ø§Ù„ØªÙ…Ø«Ù„", "Ø§Ù„ØµØ±Ø§Ø¹ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ"], a: 0 },
        { q: "Ø¹Ù„Ø§Ù‚Ø© 'Ø§Ù„ØªØ¹Ø§Ù‚Ø¯ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠ' ØªØ±Ø¨Ø· Ø¨ÙŠÙ†:", o: ["Ø§Ù„Ù…Ø¯Ø±Ø³ ÙˆØ§Ù„Ù…ØªØ¹Ù„Ù…", "Ø§Ù„Ù…ØªØ¹Ù„Ù… ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ©", "Ø§Ù„Ù…Ø¯Ø±Ø³ ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø©", "Ø§Ù„Ø£Ø³Ø±Ø© ÙˆØ§Ù„Ù…Ø¯Ø±Ø³Ø©"], a: 0 },
        { q: "Ù…ÙÙ‡ÙˆÙ… 'Ø§Ù„ØªÙ…Ø«Ù„Ø§Øª' (ReprÃ©sentations) ÙŠØ¹Ù†ÙŠ:", o: ["Ø§Ù„ØªØµÙˆØ±Ø§Øª Ø§Ù„Ù‚Ø¨Ù„ÙŠØ© Ù„Ù„Ù…ØªØ¹Ù„Ù… Ø­ÙˆÙ„ Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø§", "ØªÙ…Ø«ÙŠÙ„ Ù…Ø³Ø±Ø­ÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø³Ù…", "Ù†Ø³Ø® Ø§Ù„Ø¯Ø±ÙˆØ³", "Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†"], a: 0 },
        { q: "ÙÙŠ Ø§Ù„Ù…Ø«Ù„Ø« Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠØŒ ÙŠØ³Ù…Ù‰ Ø§Ù„Ù‚Ø·Ø¨ (Ù…ØªØ¹Ù„Ù… - Ù…Ø¹Ø±ÙØ©) Ø¨Ù€:", o: ["Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø¨ÙŠØ¯Ø§ØºÙˆØ¬ÙŠ", "Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø³ÙŠÙƒÙˆÙ„ÙˆØ¬ÙŠ", "Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø¥Ø¨Ø³ØªÙ…ÙˆÙ„ÙˆØ¬ÙŠ", "Ø§Ù„Ù‚Ø·Ø¨ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ"], a: 1 },
        { q: "Ø§Ù„ØªØ¹Ø±ÙŠÙ: 'Ù‡ÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø°ÙŠ ØªÙ…Ø§Ø±Ø³Ù‡ Ø§Ù„Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„Ø±Ø§Ø´Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„Ù†Ø§Ø´Ø¦Ø©' ÙŠØ¹ÙˆØ¯ Ù„Ù€:", o: ["Ø¬ÙˆÙ† Ø¯ÙŠÙˆÙŠ", "Ø¥Ù…ÙŠÙ„ Ø¯ÙˆØ±ÙƒØ§ÙŠÙ…", "Ø¬Ø§Ù† Ø¨ÙŠØ§Ø¬ÙŠ", "ÙƒØ§Ù†Ø·"], a: 1 },
        { q: "Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒ ÙŠÙ‡ØªÙ… Ø£Ø³Ø§Ø³Ø§Ù‹ Ø¨Ù€:", o: ["Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠØ©", "ØªØ¯Ø¨ÙŠØ± Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª ÙˆØ·Ø±Ù‚ Ø§Ù„ØªØ¯Ø±ÙŠØ³", "Ø§Ù„ØªØ´Ø±ÙŠØ¹ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ", "Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ"], a: 1 },
        { q: "Ù…ØµØ·Ù„Ø­ 'Tabula Rasa' (Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡) ÙŠØ±ØªØ¨Ø· Ø¨Ø§Ù„Ù†Ø¸Ø±ÙŠØ©:", o: ["Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©", "Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©", "Ø§Ù„ÙØ·Ø±ÙŠØ©", "Ø§Ù„Ø¨Ù†Ø§Ø¦ÙŠØ©"], a: 1 },
        { q: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø§Ù„ØªÙŠ ØªØ±Ø¨Ø· Ø§Ù„Ù…Ø¯Ø±Ø³ Ø¨Ø§Ù„Ù…Ø¹Ø±ÙØ© ÙÙŠ Ø§Ù„Ù…Ø«Ù„Ø« ØªØ³Ù…Ù‰:", o: ["Ø§Ù„ØªØ¹Ø§Ù‚Ø¯", "Ø§Ù„ØªÙ…Ø«Ù„", "Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠ (Ø§Ù„Ø¥Ø¨Ø³ØªÙ…ÙˆÙ„ÙˆØ¬ÙŠ)", "Ø§Ù„ØªÙˆØ¬ÙŠÙ‡"], a: 2 },
        { q: "Ù…Ù† Ø®ØµØ§Ø¦Øµ Ø¹Ù„ÙˆÙ… Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø£Ù†Ù‡Ø§:", o: ["Ø¹Ù„Ù… ÙˆØ§Ø­Ø¯ Ø«Ø§Ø¨Øª", "ØªØªØ³Ù… Ø¨Ø§Ù„ØªØ¹Ø¯Ø¯ ÙˆØ§Ù„ØªØ¯Ø§Ø®Ù„ (Interdisciplinary)", "ØªØ±ÙØ¶ Ø¹Ù„Ù… Ø§Ù„Ù†ÙØ³", "ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„ÙÙ„Ø³ÙØ© ÙÙ‚Ø·"], a: 1 },
        { q: "ÙŠØ±Ù‰ Ø¬ÙˆÙ† Ø¯ÙŠÙˆÙŠ Ø£Ù† Ø§Ù„ØªØ±Ø¨ÙŠØ© Ù‡ÙŠ:", o: ["Ø¥Ø¹Ø¯Ø§Ø¯ Ù„Ù„Ù…Ø³ØªÙ‚Ø¨Ù„", "Ø§Ù„Ø­ÙŠØ§Ø© Ù†ÙØ³Ù‡Ø§ ÙˆØ¹Ù…Ù„ÙŠØ© Ù†Ù…Ùˆ", "Ø­ÙØ¸ Ù„Ù„Ù…Ø§Ø¶ÙŠ", "Ø¹Ù‚Ø§Ø¨ Ù„Ù„Ø·ÙÙ„"], a: 1 },
        { q: "Ø§Ù„Ù…Ù‚Ø§Ø±Ø¨Ø© Ø§Ù„ØªÙŠ ØªØ¹ØªØ¨Ø± Ø§Ù„Ù…ØªØ¹Ù„Ù… Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù‡ÙŠ:", o: ["Ø§Ù„Ù…Ù‚Ø§Ø±Ø¨Ø© Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ©", "Ø§Ù„Ù…Ù‚Ø§Ø±Ø¨Ø© Ø§Ù„Ù…ØªÙ…Ø±ÙƒØ²Ø© Ø­ÙˆÙ„ Ø§Ù„Ù…ØªØ¹Ù„Ù… (Ø§Ù„Ù†Ø´Ø·Ø©)", "Ø§Ù„Ù…Ù‚Ø§Ø±Ø¨Ø© Ø¨Ø§Ù„ÙƒØªØ§Ø¨", "Ø§Ù„Ù…Ù‚Ø§Ø±Ø¨Ø© Ø§Ù„Ø³Ù„Ø·ÙˆÙŠØ©"], a: 1 },
        { q: "Ø§Ù„Ù‡Ø¯Ù Ù…Ù† 'Ø§Ù„ØªØ¹Ø§Ù‚Ø¯ Ø§Ù„Ø¯ÙŠØ¯Ø§ÙƒØªÙŠÙƒÙŠ' Ù‡Ùˆ:", o: ["Ù…Ø¹Ø§Ù‚Ø¨Ø© Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°", "ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Ø± Ù„ØªØ¬Ù†Ø¨ Ø³ÙˆØ¡ Ø§Ù„ÙÙ‡Ù…", "Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„", "ØªØ²ÙŠÙŠÙ† Ø§Ù„Ù‚Ø³Ù…"], a: 1 },
        { q: "Ø§Ù„Ø¹Ø§Ø¦Ù‚ Ø§Ù„Ø¥Ø¨Ø³ØªÙ…ÙˆÙ„ÙˆØ¬ÙŠ Ù‡Ùˆ:", o: ["ØµØ¹ÙˆØ¨Ø© Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ø±ÙØ© Ù†ÙØ³Ù‡Ø§", "ØºÙŠØ§Ø¨ Ø§Ù„ØªÙ„Ù…ÙŠØ°", "Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡", "ØµØºØ± Ø§Ù„Ø³Ø¨ÙˆØ±Ø©"], a: 0 },
        { q: "Ø§Ù„Ø¨ÙŠØ¯Ø§ØºÙˆØ¬ÙŠØ§ Ø§Ù„ÙØ§Ø±Ù‚ÙŠØ© ØªØ¹Ù†ÙŠ:", o: ["ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø°ÙƒÙŠØ§Ø¡ ÙÙ‚Ø·", "Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ÙÙˆØ§Ø±Ù‚ Ø§Ù„ÙØ±Ø¯ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù…ØªØ¹Ù„Ù…ÙŠÙ†", "ØªÙØ±ÙŠÙ‚ Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ° ÙÙŠ Ø§Ù„Ø³Ø§Ø­Ø©", "ØªØ¯Ø±ÙŠØ³ Ù…Ø§Ø¯Ø© ÙˆØ§Ø­Ø¯Ø©"], a: 1 },
        { q: "Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„ØªØ´Ø®ÙŠØµÙŠ ÙŠÙƒÙˆÙ† Ø¹Ø§Ø¯Ø©:", o: ["ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø³Ù†Ø©", "ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØªØ¹Ù„Ù… Ù„Ø±ØµØ¯ Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø§Øª", "Ø¨Ø¹Ø¯ ÙƒÙ„ Ø¯Ø±Ø³", "ÙÙŠ Ø§Ù„Ø¹Ø·Ù„Ø©"], a: 1 },
        { q: "Ø§Ù„ÙˆØ¶Ø¹ÙŠØ© Ø§Ù„Ù…Ø´ÙƒÙ„Ø© (Situation-problÃ¨me) ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰:", o: ["ØªØ¹Ø¬ÙŠØ² Ø§Ù„Ù…ØªØ¹Ù„Ù…", "ØªØ­ÙÙŠØ² Ø§Ù„Ù…ØªØ¹Ù„Ù… Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø±ÙØ© ÙˆØ­Ù„ Ø§Ù„Ù„ØºØ²", "Ø¥Ø¶Ø§Ø¹Ø© Ø§Ù„ÙˆÙ‚Øª", "Ø§Ù„Ø­ÙØ¸"], a: 1 },
        { q: "Ù…ÙÙ‡ÙˆÙ… 'Ø§Ù„ØµØ±Ø§Ø¹ Ø§Ù„Ù…Ø¹Ø±ÙÙŠ' (Conflit cognitif) Ø£Ø³Ø§Ø³ÙŠ ÙÙŠ Ø§Ù„Ù†Ø¸Ø±ÙŠØ©:", o: ["Ø§Ù„Ø³Ù„ÙˆÙƒÙŠØ©", "Ø§Ù„Ø¨Ù†Ø§Ø¦ÙŠØ©", "Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ÙØ³ÙŠ", "Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ©"], a: 1 },
        { q: "Ù…ØµØ·Ù„Ø­ 'Ø£Ù†Ø¯Ø±Ø§ØºÙˆØ¬ÙŠØ§' ÙŠØ¹Ù†ÙŠ:", o: ["ØªØ¹Ù„ÙŠÙ… Ø§Ù„ØµØºØ§Ø±", "ØªØ¹Ù„ÙŠÙ… Ø§Ù„ÙƒØ¨Ø§Ø±", "ØªØ¹Ù„ÙŠÙ… Ø°ÙˆÙŠ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø®Ø§ØµØ©", "Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£ÙˆÙ„ÙŠ"], a: 1 },
        { q: "Ø§Ù„Ù†Ø¸Ø±ÙŠØ© Ø§Ù„ØªÙŠ ØªØ±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø«ÙŠØ± ÙˆØ§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù‡ÙŠ:", o: ["Ø§Ù„Ø¬Ø´ØªØ§Ù„ØªÙŠØ©", "Ø§Ù„Ø³Ù„ÙˆÙƒÙŠØ©", "Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ©", "Ø§Ù„Ø³ÙˆØ³ÙŠÙˆØ¨Ù†Ø§Ø¦ÙŠØ©"], a: 1 },
        { q: "Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­Ø§ÙŠØ«Ø© Ù„Ù„Ù†Ù…Ùˆ (ZPD) Ù…ÙÙ‡ÙˆÙ… ØµØ§ØºÙ‡:", o: ["Ø¨ÙŠØ§Ø¬ÙŠ", "ÙÙŠØ¬ÙˆØªØ³ÙƒÙŠ", "Ø³ÙƒÙ†Ø±", "ÙØ±ÙˆÙŠØ¯"], a: 1 },
        { q: "Ø§Ù„Ø§Ø³ØªØ¨ØµØ§Ø± (Insight) Ù‡Ùˆ Ø¢Ù„ÙŠØ© Ø§Ù„ØªØ¹Ù„Ù… Ø¹Ù†Ø¯:", o: ["Ø§Ù„Ø³Ù„ÙˆÙƒÙŠÙŠÙ†", "Ø§Ù„Ø¬Ø´ØªØ§Ù„Øª", "Ø§Ù„Ø¨Ù†Ø§Ø¦ÙŠÙŠÙ†", "Ø§Ù„ÙˆØ¸ÙŠÙÙŠÙŠÙ†"], a: 1 },
        { q: "Ø§Ù„Ù…ÙŠØ«Ø§Ù‚ Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªÙƒÙˆÙŠÙ† ØµØ¯Ø± Ø³Ù†Ø©:", o: ["1990", "1999/2000", "2015", "2023"], a: 1 },
        { q: "Ø§Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© 2015-2030 Ø¬Ø§Ø¡Øª Ø¨Ù€:", o: ["ØªØ¹Ø±ÙŠØ¨ Ø§Ù„Ø¹Ù„ÙˆÙ…", "Ø§Ù„ØªÙ†Ø§ÙˆØ¨ Ø§Ù„Ù„ØºÙˆÙŠ", "Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", "Ø­Ø°Ù Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©"], a: 1 },
        { q: "Ø§Ù„Ù…Ø¬Ù„Ø³ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù„Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªÙƒÙˆÙŠÙ† Ù‡Ùˆ Ù‡ÙŠØ¦Ø©:", o: ["ØªÙ†ÙÙŠØ°ÙŠØ© (ÙˆØ²Ø§Ø±Ø©)", "Ø§Ø³ØªØ´Ø§Ø±ÙŠØ© ØªÙ‚ÙˆÙŠÙ…ÙŠØ©", "Ù‚Ø¶Ø§Ø¦ÙŠØ©", "Ù†Ù‚Ø§Ø¨ÙŠØ©"], a: 1 },
        { q: "Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø¥Ø·Ø§Ø± 51.17 Ù‡Ùˆ:", o: ["Ù…Ø¬Ø±Ø¯ ØªÙˆØµÙŠØ§Øª", "Ù‚Ø§Ù†ÙˆÙ† Ù…Ù„Ø²Ù… Ù„ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©", "ÙƒØªØ§Ø¨ Ù…Ø¯Ø±Ø³ÙŠ", "Ø±ÙˆØ§ÙŠØ©"], a: 1 },
        { q: "Ù…Ø´Ø±ÙˆØ¹ 'Ø§Ù„Ù…Ø¯Ø§Ø±Ø³ Ø§Ù„Ø±Ø§Ø¦Ø¯Ø©' ÙŠØ±ÙƒØ² Ø¹Ù„Ù‰:", o: ["Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø£Ø³ÙˆØ§Ø±", "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ¹Ø«Ø±Ø§Øª (TaRL) ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„ØªØ¹Ù„Ù…Ø§Øª", "ØªØºÙŠÙŠØ± Ø§Ù„Ø¹Ø·Ù„", "Ø§Ù„Ø²ÙŠ Ø§Ù„Ù…ÙˆØ­Ø¯"], a: 1 },
        { q: "Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© ØªØ´Ù…Ù„:", o: ["Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØµÙÙŠØ© ÙÙ‚Ø·", "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªÙŠ ÙŠØ¹ÙŠØ´Ù‡Ø§ Ø§Ù„Ù…ØªØ¹Ù„Ù… ÙÙŠ Ø§Ù„Ù…Ø¤Ø³Ø³Ø©", "ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø© ÙÙ‚Ø·", "Ø§Ù„Ø±Ø­Ù„Ø§Øª"], a: 1 },
        { q: "Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ù…Ù†Ø¯Ù…Ø¬ ÙŠÙ‡Ø¯Ù Ø¥Ù„Ù‰:", o: ["ØªØ²ÙŠÙŠÙ† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©", "ØªØ¬ÙˆÙŠØ¯ Ø§Ù„ØªØ¹Ù„Ù…Ø§Øª ÙˆØ§Ù„Ø§Ø±ØªÙ‚Ø§Ø¡ Ø¨Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©", "Ø¬Ù…Ø¹ Ø§Ù„ØªØ¨Ø±Ø¹Ø§Øª", "Ø·Ø±Ø¯ Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°"], a: 1 }
    ];

    /* ================= LOGIC ================= */
    let totalScore = 0;
    
    // Phase 1 Variables
    let conceptIndex = 0;
    let step = 1; // 1 = Identify Concept, 2 = Answer Detail
    
    // Phase 2 Variables
    let qcmIndex = 0;

    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function shuffleArray(array) {
        return array.sort(() => Math.random() - 0.5);
    }

    function updateScore() {
        document.getElementById('score').innerText = totalScore;
    }

    function startGame() {
        totalScore = 0;
        conceptIndex = 0;
        step = 1;
        qcmIndex = 0;
        updateScore();
        
        // Randomize questions
        shuffleArray(conceptsData);
        shuffleArray(qcmData);

        // Start
        loadConceptRound();
        showScreen('screen-game');
    }

    /* ------- Part 1: Concept Lab Logic ------- */
    function loadConceptRound() {
        const item = conceptsData[conceptIndex];
        
        // UI
        const defText = document.getElementById('g-def');
        const labelEl = document.getElementById('g-step-label');
        const optionsDiv = document.getElementById('g-options');
        const feedbackEl = document.getElementById('g-feedback');
        const nextBtn = document.getElementById('g-next-btn');
        const progressBar = document.getElementById('progress');

        feedbackEl.innerText = "";
        nextBtn.style.display = "none";
        optionsDiv.innerHTML = "";

        // Progress: 50% for this phase
        let totalSteps = conceptsData.length * 2;
        let currentStep = (conceptIndex * 2) + (step - 1);
        let progressPercent = (currentStep / totalSteps) * 50;
        progressBar.style.width = `${progressPercent}%`;

        let correctAns = "";
        let distractors = [];

        if (step === 1) {
            // Step 1: Identify Concept from Definition
            defText.innerText = `"${item.definition}"`;
            labelEl.innerText = "ğŸ” Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…ØµØ·Ù„Ø­ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ø±ÙŠÙØŸ";
            correctAns = item.concept;
            
            // Distractors: Other concepts names
            let allConcepts = conceptsData.filter((_, i) => i !== conceptIndex).map(c => c.concept);
            shuffleArray(allConcepts);
            distractors = allConcepts.slice(0, 2);

        } else {
            // Step 2: Detail Question
            defText.innerText = `${item.concept}`; // Keep concept visible
            labelEl.innerText = `â“ Ø³Ø¤Ø§Ù„ ØªØ¯Ù‚ÙŠÙ‚: ${item.detailQ}`;
            
            correctAns = item.detailAns;
            
            // Distractors: From the specific item's options (excluding correct one)
            distractors = item.detailOpts.filter(opt => opt !== correctAns);
        }

        let options = [correctAns, ...distractors];
        shuffleArray(options);
        createButtons(optionsDiv, options, correctAns, 'game');
    }

    function nextGameStep() {
        if (step === 1) {
            step = 2; // Move to Detail Question
        } else {
            conceptIndex++;
            if (conceptIndex >= conceptsData.length) {
                startQCMPhase();
                return;
            }
            step = 1; // New Concept
        }
        loadConceptRound();
    }

    /* ------- Part 2: QCM Logic ------- */
    function startQCMPhase() {
        showScreen('screen-qcm');
        document.getElementById('section-title').innerText = "Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ…";
        loadQCMRound();
    }

    function loadQCMRound() {
        const data = qcmData[qcmIndex];
        const optionsDiv = document.getElementById('qcm-options');
        const feedbackEl = document.getElementById('qcm-feedback');
        const nextBtn = document.getElementById('qcm-next-btn');
        const progressBar = document.getElementById('progress');

        document.getElementById('qcm-counter').innerText = `Ø³Ø¤Ø§Ù„ ${qcmIndex + 1} / ${qcmData.length}`;
        document.getElementById('qcm-text').innerText = data.q;
        feedbackEl.innerText = "";
        nextBtn.style.display = "none";
        optionsDiv.innerHTML = "";

        // Progress: 50% -> 100%
        let progressPercent = 50 + ((qcmIndex / qcmData.length) * 50);
        progressBar.style.width = `${progressPercent}%`;

        let options = [...data.o];
        let correctTxt = data.o[data.a];
        
        createButtons(optionsDiv, options, correctTxt, 'qcm');
    }

    function nextQCMStep() {
        qcmIndex++;
        if (qcmIndex < qcmData.length) {
            loadQCMRound();
        } else {
            finishExam();
        }
    }

    /* ------- Helpers ------- */
    function createButtons(container, optionsList, correctText, mode) {
        optionsList.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = function() { checkAnswer(this, opt, correctText, container, mode); };
            container.appendChild(btn);
        });
    }

    function checkAnswer(btn, selected, correct, container, mode) {
        const allBtns = container.querySelectorAll('.option-btn');
        allBtns.forEach(b => b.disabled = true);

        const feedbackEl = document.getElementById(mode === 'game' ? 'g-feedback' : 'qcm-feedback');
        const nextBtn = document.getElementById(mode === 'game' ? 'g-next-btn' : 'qcm-next-btn');

        if (selected === correct) {
            btn.classList.add('correct');
            totalScore += 10;
            updateScore();
            feedbackEl.innerText = "âœ… ØµØ­ÙŠØ­!";
            feedbackEl.style.color = "#27ae60";
        } else {
            btn.classList.add('wrong');
            allBtns.forEach(b => {
                if (b.innerText === correct) b.classList.add('correct');
            });
            feedbackEl.innerText = "âŒ Ø®Ø·Ø£!";
            feedbackEl.style.color = "#c23616";
        }
        nextBtn.style.display = "block";
    }

    function finishExam() {
        showScreen('screen-result');
        document.getElementById('progress').style.width = "100%";
        document.getElementById('final-score').innerText = totalScore;
        
        // Max Score Calculation
        let maxScore = (conceptsData.length * 2 * 10) + (qcmData.length * 10);
        const percentage = (totalScore / maxScore) * 100;
        const msgEl = document.getElementById('final-msg');

        if (percentage >= 85) {
            msgEl.innerText = "Ù…Ù…ØªØ§Ø²! Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… ÙˆØ§Ø¶Ø­Ø© Ø¹Ù†Ø¯Ùƒ ØªÙ…Ø§Ù…Ø§Ù‹ ğŸ§ ";
            msgEl.style.color = "#44bd32";
        } else if (percentage >= 50) {
            msgEl.innerText = "Ø¬ÙŠØ¯ØŒ ÙˆÙ„ÙƒÙ† Ø±Ø§Ø¬Ø¹ Ø§Ù„ÙØ±ÙˆÙ‚Ø§Øª Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© ğŸ“š";
            msgEl.style.color = "#fbc531";
        } else {
            msgEl.innerText = "ØªØ­ØªØ§Ø¬ Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ù…Ù† Ø¬Ø¯ÙŠØ¯ ğŸ’ª";
            msgEl.style.color = "#c23616";
        }
    }
</script>

</body>
</html>